#ifndef OV7725_H_ 
#define OV7725_H_

#include "OVxxxx_foo.h"
#include "OV7725_register.h"

#define OV7725_DEVICE_WRITE_ADDRESS    0x42
#define OV7725_DEVICE_READ_ADDRESS     0x41	

uint8_t OV7725_init() {
	uint8_t mmm;

	InitI2C0();
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0xff, 0x01);
   	mmm = 0x80;
	if (0 == OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x12, mmm)) {
		return 0;
	}
	delay_ms(10);

	OV7725_set_register();
	return 1;
}

void OV7725_set_register() {
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x32,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x2a,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x11,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x12,0x46);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x42,0x7f);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x4d,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x63,0xf0);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x64,0x1f);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x65,0xff);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x66,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x67,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x69,0x00);


	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x13,0xff);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x0d,0x01);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x0f,0xc5);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x14,0x11);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x22,0xFF);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x23,0x01);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x24,0x76);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x25,0x50);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x26,0xa1);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x2b,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x6b,0xaa);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x13,0xff);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x90,0x0a);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x91,0x01);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x92,0x01);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x93,0x01);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x94,0x5f);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x95,0x53);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x96,0x11);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x97,0x1a);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x98,0x3d);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x99,0x5a);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x9a,0x9e);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x9b,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x9c,0x30);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0xa7,0x40);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0xa8,0x40);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0xa9,0x80);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0xaa,0x80);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x9e,0x11);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x9f,0x02);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0xa6,0x06);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x7e,0x0c);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x7f,0x16);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x80,0x2a);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x81,0x4e);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x82,0x61);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x83,0x6f);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x84,0x7b);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x85,0x86);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x86,0x8e);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x87,0x97);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x88,0xa4);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x89,0xaf);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x8a,0xc5);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x8b,0xd7);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x8c,0xe8);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x8d,0x20);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x4e,0xef);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x4f,0x10);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x50,0x60);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x51,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x52,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x53,0x24);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x54,0x7a);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x55,0xfc);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x33,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x22,0x99);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x23,0x03);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x4a,0x00);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x49,0x13);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x47,0x08);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x4b,0x14);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x4c,0x17);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x46,0x05);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x0e,0x75);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x3d,0x82);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x0c,0x50);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x3e,0xe2);

	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x29,0x50);
	OVxxxx_WriteReg(OV7725_DEVICE_WRITE_ADDRESS, 0x2c,0x78);
}


#endif  // OV7725_H_
